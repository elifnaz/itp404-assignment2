<script>
// Task 1
function string(){

}

string.prototype.pluralize = function(word){
  if (word.length > 0){
    if (word.slice(-1) === "y"){
      word = word.slice(0, -1);
      word += "ies";
    }
    else {
      word += "s";
    }
  }
  return word;
};

var myString = new string();
console.log(myString.pluralize("baby"));
console.log(myString.pluralize("cat"));

// Task 2

function Book(bookObject) {
  this.title = bookObject.title;
  this.quantity = bookObject.quantity;
  this.price = bookObject.price;
}

Book.prototype.getSubtotal = function() {
  return this.quantity * this.price;
};

var oojsBook = new Book({ title: 'Object Oriented JavaScript', quantity: 2, price: 10 });
console.log(oojsBook.title); // Object Oriented JavaScript
console.log(oojsBook.quantity); // 2
console.log(oojsBook.price); // 10
console.log(oojsBook.getSubtotal()); // 20

function ShoppingCart(shoppingCartArray) {
  this.items = shoppingCartArray.slice(0);
}

ShoppingCart.prototype.add = function(book) {
  this.items.push(book);
};

ShoppingCart.prototype.getTotal = function() {
  return this.items.reduce(function(total, item) {
    return total + item.getSubtotal();
  }, 0);
};

var book1 = new Book({ title: 'Object Oriented JavaScript', quantity: 1, price: 10 });
var book2 = new Book({ title: 'JavaScript Web Applications', quantity: 2, price: 15 });
var book3 = new Book({ title: 'PHP Object Oriented Solutions', quantity: 1, price: 20 });
var book4 = new Book({ title: 'Head First Java', quantity: 5, price: 20 });

var cart = new ShoppingCart([book1, book2]);
cart.add(book3);
cart.add(book4);
var subtotal = cart.getTotal();
console.log(subtotal); // 160

// Task 3

Array.prototype.map2 = function(callbackFunction) {
  for (var i = 0; i < this.length; i++) {
    this[i] = callbackFunction(this[i]);
  }
  return this;
};

var numbers = [1, 2, 3, 4, 5];
var numbersDoubled = numbers.map2(function(number) {
  return number * 2;
});
console.log(numbersDoubled); // should equal [2, 4, 6, 8, 10]
</script>
